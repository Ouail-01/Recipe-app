<div>
  <div>
    <h1>Shopping List</h1>
    <p>The amount of food items to buy: <%= @ingredients.length %></p>
    <p>The total value of food needed: $<%= @total_price %></p>
  </div>
  <table>
    <thead>
      <tr>
        <th>Food</th>
        <th>Quantity</th>
        <th>Price</th>  
      </tr>
    </thead>
    <tbody>
      <% @ingredients.each do |food, ingredients| %>
      <tr>
        <td><%= food %></td>
        <td><% total_quantity = ingredients.map(&:quantity).sum %>
          <span><%= total_quantity %> <%= ingredients.first.food.measurement_unit %></span></td>
        <td><% total_price = ingredients.map { |ingredient| ingredient.quantity * ingredient.food.price }.sum %>$<%= total_price %></td>
      </tr>
      <% end %>
    </tbody>
  </table>
</div>
